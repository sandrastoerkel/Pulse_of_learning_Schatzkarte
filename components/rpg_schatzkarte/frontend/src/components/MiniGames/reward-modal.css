/* ============================================
   REWARD MODAL & MINI GAME SELECTOR STYLES
   Redesigned: Uses design-tokens.css
   ============================================ */

/* ========== VARIABLES â†’ Redirected to Design Tokens ========== */
:root {
  --gold-primary: var(--fb-reward);
  --gold-secondary: var(--fb-reward);
  --purple-primary: var(--fb-epic);
  --purple-secondary: #7c3aed;
  --bg-dark: var(--ui-base);
  --bg-darker: var(--ui-base);
  --bg-darkest: var(--ui-base);
  --success: var(--fb-success);
  --warning: var(--fb-reward);
  --danger: var(--fb-error);
  --text-light: var(--ui-text);
  --text-muted: var(--ui-text-muted);
  --text-dim: var(--ui-text-disabled);
}

/* ========== OVERLAY ========== */
.reward-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
  overflow-y: auto;
}

/* ========== REWARD MODAL ========== */
.reward-modal {
  background: var(--ui-surface);
  border: 2px solid var(--ui-border);
  border-radius: var(--radius-lg);
  padding: 40px;
  max-width: 420px;
  width: 100%;
  text-align: center;
  position: relative;
  box-shadow: var(--shadow-lg);
  font-family: var(--font-ui);
}

.reward-modal.won {
  border-color: var(--fb-success);
  box-shadow: 0 0 30px rgba(52, 211, 153, 0.15), var(--shadow-lg);
}

.reward-modal.lost {
  border-color: var(--fb-error);
  box-shadow: 0 0 30px rgba(239, 68, 68, 0.15), var(--shadow-lg);
}

.reward-modal.achievement {
  border-color: var(--fb-epic);
  box-shadow: var(--shadow-epic), var(--shadow-lg);
}

.reward-modal.level-up {
  border-color: var(--fb-epic);
  background: var(--ui-surface);
  box-shadow: var(--shadow-epic);
}

/* ========== TITLES ========== */
.reward-title {
  font-size: 1.8rem;
  margin-bottom: 15px;
  font-weight: bold;
  font-family: var(--font-ui);
  color: var(--ui-text);
}

.reward-title.won { color: var(--fb-success); }
.reward-title.lost { color: var(--fb-error); }
.reward-title.achievement { color: var(--fb-epic); }
.reward-title.level-up,
.reward-title.island { color: var(--fb-reward); }

/* ========== GAME STATS ========== */
.game-stats { margin-bottom: 20px; }
.game-name { font-size: 1.3rem; color: var(--ui-text); margin-bottom: 5px; }
.stat-line { color: var(--ui-text-muted); font-size: 0.95rem; margin: 3px 0; }

/* ========== REWARD BOX ========== */
.reward-box {
  background: var(--fb-reward-subtle);
  border: 1px solid rgba(245, 158, 11, 0.25);
  border-radius: var(--radius-md);
  padding: 25px;
  margin: 25px 0;
}

.reward-box.lost {
  background: var(--fb-error-subtle);
  border-color: rgba(239, 68, 68, 0.25);
}

/* ========== XP DISPLAY ========== */
.xp-display { font-size: 2.2rem; font-weight: bold; margin-bottom: 10px; }
.xp-display.positive { color: var(--fb-success); }
.xp-display.negative { color: var(--fb-error); }
.gold-display { font-size: 1.4rem; color: var(--fb-reward); margin-bottom: 15px; }
.multiplier-info { font-size: 0.9rem; color: var(--ui-text-disabled); margin: 5px 0; }
.info-label { color: var(--ui-text-muted); }

/* ========== LOSS REASON ========== */
.loss-reason { color: var(--ui-text-muted); font-size: 1.1rem; margin-bottom: 20px; }

/* ========== TIP BOX ========== */
.tip-box {
  margin-top: 20px;
  padding: 15px;
  background: var(--fb-reward-subtle);
  border-radius: var(--radius-md);
  text-align: left;
}
.tip-label { font-weight: bold; color: var(--fb-reward); }
.tip-box p { margin: 8px 0 0 0; color: var(--ui-text-muted); font-size: 0.9rem; }

/* ========== ACHIEVEMENT ========== */
.achievement-badge {
  width: 100px;
  height: 100px;
  margin: 20px auto;
  background: var(--fb-epic-subtle);
  border: 2px solid var(--fb-epic);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: var(--shadow-epic);
}
.badge-icon { font-size: 3rem; }
.achievement-name { font-size: 1.5rem; color: var(--fb-reward); margin: 15px 0 10px; }
.achievement-description { color: var(--ui-text-muted); font-style: italic; font-size: 1rem; }
.bonus-display { font-size: 1.3rem; color: var(--fb-success); font-weight: bold; }

/* ========== LEVEL UP ========== */
.level-display { display: flex; align-items: center; justify-content: center; gap: 15px; margin: 30px 0; }
.level-old { font-size: 1.8rem; color: var(--ui-text-disabled); }
.level-arrow { font-size: 2rem; color: var(--fb-epic); }
.level-new { font-size: 2.5rem; color: var(--fb-epic); font-weight: bold; text-shadow: 0 0 20px rgba(168, 85, 247, 0.4); }

.glow-effect {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 100px;
  height: 200px;
  background: linear-gradient(to bottom, rgba(168, 85, 247, 0.3), transparent);
  pointer-events: none;
}

.new-title { margin-bottom: 15px; }
.title-label { display: block; font-size: 0.85rem; color: var(--ui-text-disabled); margin-bottom: 5px; }
.title-value { font-size: 1.3rem; color: var(--fb-reward); }
.gold-bonus { font-size: 1.1rem; color: var(--fb-reward); }

/* ========== ISLAND COMPLETE ========== */
.island-name { font-size: 1.3rem; color: var(--ui-text); margin-bottom: 20px; }
.item-unlocked { margin-top: 20px; padding-top: 15px; border-top: 1px solid var(--ui-border); }
.unlock-label { display: block; font-size: 0.9rem; color: var(--ui-text-muted); margin-bottom: 10px; }
.unlocked-item { display: flex; align-items: center; justify-content: center; gap: 10px; }
.item-icon { font-size: 2rem; }
.item-name { font-size: 1.1rem; color: var(--fb-reward); font-weight: bold; }

/* ========== BUTTONS ========== */
.button-row { display: flex; gap: 15px; margin-top: 25px; }
.button-row.center { justify-content: center; }

.reward-modal .btn,
.game-selector .btn {
  padding: 12px 28px;
  border-radius: var(--radius-md);
  font-size: 1rem;
  font-weight: bold;
  font-family: var(--font-ui);
  cursor: pointer;
  border: none;
  transition: background var(--transition-fast);
}

.reward-modal .btn-primary,
.game-selector .btn-primary {
  background: var(--ui-action);
  color: var(--ui-base);
}

.reward-modal .btn-primary:hover,
.game-selector .btn-primary:hover {
  background: var(--ui-action-hover);
}

.reward-modal .btn-secondary,
.game-selector .btn-secondary {
  background: var(--ui-surface);
  color: var(--ui-text);
  border: 1px solid var(--ui-border);
}

.reward-modal .btn-secondary:hover,
.game-selector .btn-secondary:hover {
  background: var(--ui-surface-hover);
  border-color: var(--ui-action);
}

/* ========== CONFETTI ========== */
.confetti-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1001; overflow: hidden; }
.confetti-piece { position: absolute; width: 12px; height: 12px; top: -20px; }

/* ============================================
   MINI GAME SELECTOR STYLES
   ============================================ */
.game-selector {
  background: var(--ui-surface);
  border: 2px solid var(--ui-border);
  border-radius: var(--radius-lg);
  padding: 35px;
  max-width: 520px;
  width: 100%;
  text-align: center;
  box-shadow: var(--shadow-lg);
  font-family: var(--font-ui);
}

.selector-header { margin-bottom: 25px; }
.selector-title { font-size: 1.6rem; color: var(--ui-text); font-weight: 700; margin-bottom: 10px; }
.selector-description { color: var(--ui-text-muted); font-size: 1rem; margin: 0; }

.bonus-badge {
  display: inline-block;
  margin-top: 15px;
  padding: 8px 18px;
  background: var(--fb-success-subtle);
  border: 1px solid var(--fb-success);
  border-radius: var(--radius-pill);
  color: var(--fb-success);
  font-weight: bold;
  font-size: 0.9rem;
}

.choose-label { color: var(--ui-text); font-size: 1rem; margin-bottom: 20px; }

/* ========== GAME CARDS ========== */
.game-cards { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 25px; }

.game-card {
  background: var(--ui-base);
  border: 2px solid var(--ui-border);
  border-radius: var(--radius-md);
  padding: 28px 20px;
  text-align: center;
  cursor: pointer;
  transition: border-color var(--transition-fast), background var(--transition-fast);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
}

.game-card:hover {
  border-color: var(--ui-action);
  background: var(--ui-surface-hover);
}

.game-card-icon { font-size: 3.5rem; line-height: 1; }
.game-card-name { font-size: 1.4rem; font-weight: bold; color: var(--ui-text); }
.game-card-description { font-size: 0.85rem; color: var(--ui-text-muted); line-height: 1.5; }

/* ========== DIVIDER ========== */
.selector-divider { display: flex; align-items: center; gap: 15px; margin: 25px 0; }
.divider-line { flex: 1; height: 1px; background: var(--ui-border); }
.divider-text { color: var(--ui-text-disabled); font-size: 0.85rem; font-weight: bold; }

/* ========== SHOP OPTION ========== */
.shop-option {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 18px 20px;
  background: var(--fb-epic-subtle);
  border: 1px solid var(--fb-epic);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background var(--transition-fast), border-color var(--transition-fast);
  text-align: left;
}
.shop-option:hover { background: rgba(168, 85, 247, 0.2); border-color: var(--ui-action); }
.shop-icon { font-size: 2rem; }
.shop-text { flex: 1; display: flex; flex-direction: column; gap: 3px; }
.shop-title { font-size: 1.1rem; font-weight: bold; color: var(--ui-text); }
.shop-subtitle { font-size: 0.85rem; color: var(--ui-text-muted); }
.shop-arrow { font-size: 1.5rem; color: var(--fb-epic); transition: transform 0.2s; }
.shop-option:hover .shop-arrow { transform: translateX(5px); color: var(--ui-action); }

/* ========== LATER BUTTON ========== */
.later-btn {
  margin-top: 25px;
  padding: 10px 20px;
  background: transparent;
  border: none;
  color: var(--ui-text-disabled);
  font-size: 0.95rem;
  font-family: var(--font-ui);
  cursor: pointer;
  transition: color var(--transition-fast);
}
.later-btn:hover { color: var(--ui-text); }

/* ============================================
   RESPONSIVE
   ============================================ */
@media (max-width: 500px) {
  .reward-modal, .game-selector { padding: 25px 20px; margin: 10px; max-width: calc(100% - 20px); }
  .reward-title { font-size: 1.5rem; }
  .xp-display { font-size: 1.8rem; }
  .game-cards { grid-template-columns: 1fr; gap: 15px; }
  .game-card { padding: 20px 15px; }
  .game-card-icon { font-size: 2.5rem; }
  .game-card-name { font-size: 1.2rem; }
  .button-row { flex-direction: column; }
  .reward-modal .btn, .game-selector .btn { width: 100%; }
  .level-display { flex-wrap: wrap; }
  .level-old { font-size: 1.4rem; }
  .level-new { font-size: 2rem; }
}
